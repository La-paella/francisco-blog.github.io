{% extends "layout.html" %}
{% block content %}
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta charset="utf-8">
  <meta name="page_type" content="np-template-header-footer-from-plugin">
  <title>post</title>
</head>
<body class="u-body">
  <a id="login" class="btn btn btn-primary me-2" href="{{ url_for('allposts') }}" role="button">&laquo;&laquo; Back to all posts</a>
  <section class="u-clearfix u-grey-15 u-section-1" id="sec-dc4e">
    <div class="u-clearfix u-sheet u-sheet-1">
      <div class="u-clearfix u-expanded-width u-gutter-10 u-layout-wrap u-layout-wrap-1">
        <div class="u-layout">
          <div class="u-layout-row">
            <div class="u-align-left u-container-style u-layout-cell u-left-cell u-size-30 u-size-xs-60 u-layout-cell-1" src="">
              <div class="u-container-layout u-container-layout-1">
                <div class="post_title">
                  <h2 class="u-align-center u-text u-text-default u-text-1">{{ posts.title }}</h2>
                </div>
                <div class="detailed_description">
                  <p class="u-align-left u-text u-text-2">Date: {{ posts.date }} </p>
                  <p class="u-align-left u-text u-text-3">{{ posts.description }}</p>
                  <p class="u-align-left u-text u-text-3">Location: {{ posts.location }}</p>
                </div>
              </div>
            </div>
            <img class="u-align-center u-container-style u-image u-layout-cell u-right-cell u-size-30 u-size-xs-60 u-image-1" src="../static/img/{{posts.id}}.jpg" data-image-width="1280" data-image-height="822">
            </img>
          </div>
        </div>
      </div> 
      <p class="u-text u-text-default u-text-4">Photography</p>
    </div><br>
    <div class="post_rating">
      <p><strong>Ratings:</strong></p>
      {%for rating in posts.rating %}
        {% if rating.rating == 5 %}
      <li><svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
      </svg>
      <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
      </svg>
      <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
      </svg>
      <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" id="bi bi-star-fill" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
      </svg>
      <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" id="bi bi-star-fill" class="bi bi-star-fill" viewBox="0 0 16 16">
        <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
      </svg>  
      </strong> from <strong>"{{ rating.username }}"</strong>.</li>
        {% endif %}
        {% if rating.rating == 4 %}
        <li><svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" id="bi bi-star-fill" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg> 
        <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
         <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" id="bi bi-star-fill" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>  
        </strong> from <strong>"{{ rating.username }}"</strong>.</li>
        {% endif %}
        {% if rating.rating == 3 %}
        <li><svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" id="bi bi-star-fill" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg> 
        <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        </strong> from <strong>"{{ rating.username }}"</strong>.</li>
        {% endif %}
        {% if rating.rating == 2 %}
        <li><svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>
        <svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" id="bi bi-star-fill" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>  
        </strong> from <strong>"{{ rating.username }}"</strong>.</li>
        {% endif %}
        {% if rating.rating == 1 %}
        <li><svg xmlns="../static/star-fill.svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
          <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
        </svg>  
        </strong> from <strong>"{{ rating.username }}"</strong>.</li><br>
        {% endif %}
      {% endfor %}
    </div>
    <div class="comment_text'"></div>
    <p><strong>Comments:</strong></p>
    {%for comment in posts.comment %}
      <li><strong>"{{ comment.comment }}"</strong> from <strong>"{{ comment.username }}"</strong>.</li>
    {% endfor %}<br><br>
  </div>
  {% if current_user.is_authenticated %}
  <form method="POST" action="">
    {{ rating_form.csrf_token }}
    {{ comment_form.csrf_token }}
    {{ rating_form.rating_selector.lable }}
    Please rate here: {{ rating_form.rating_selector }}
    {% for error in rating_form.rating_selector.errors %}
        <span style="color: red;">{{ error }}</span>
      {% endfor %}
    <div id="comment" class="form-floating">
      <input type="comment" class="form-control w-50" id="comment" name="comment" placeholder="and comment here...">
        <label for="floatingInput">and comment here...</label>
    </input>
      {% for error in comment_form.comment.errors %}
        <span style="color: red;">{{ error }}</span>
      {% endfor %}
    </div><br>
    <button type="submit" class="w-50 btn btn-lg btn-primary">Submit</button>
  </form>
  {% else %}
  <p>Please <a href="{{ url_for('login') }}"> login</a> / <a href="{{ url_for('register') }}"> register</a> to rate and leave comment</p><br>
  <div id="comment" class="form-floating">
    <input disabled type="comment" class="form-control w-50" id="comment" name="comment" placeholder="and comment here...">
    <label for="floatingInput">and comment here...</label>
  </div>
  <button disabled type="submit" class="w-50 btn btn-lg btn-primary">Submit</button>
  {% endif %}
  </section>
</body>



  
 

{% endblock content %}